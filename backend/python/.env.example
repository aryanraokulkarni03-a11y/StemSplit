# Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# CLERK AUTHENTICATION
# ============================================
# Get these from https://dashboard.clerk.com
# Format: https://<your-domain>.clerk.accounts.dev/.well-known/jwks.json
CLERK_JWKS_URL=https://your-domain.clerk.accounts.dev/.well-known/jwks.json
CLERK_ISSUER=https://your-domain.clerk.accounts.dev

# CUDA/GPU CONFIGURATION
# ============================================
# For CPU-only processing (No GPU):
CUDA_VISIBLE_DEVICES=-1

# For GPU processing (if available):
# CUDA_VISIBLE_DEVICES=0
# PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# ============================================
# DEMUCS CONFIGURATION
# ============================================
# Model: htdemucs (Hybrid Transformer - highest quality)
DEMUCS_MODEL=htdemucs

# Segment size in seconds (affects memory usage)
# CPU-optimized: 5 seconds (slower but works on any machine)
# GPU with 4GB: 10 seconds
# GPU with 8GB: 12 seconds
DEMUCS_SEGMENT=5

# Number of random shifts for better quality
# CPU-optimized: 0 (fast)
# Balanced: 1
# Best quality: 5
DEMUCS_SHIFTS=0

# ============================================
# SERVER CONFIGURATION
# ============================================
# FastAPI server host and port
HOST=0.0.0.0
PORT=8000

# Enable debug mode (development only)
DEBUG=true

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================
# FILE STORAGE
# ============================================
# Maximum upload file size in MB
MAX_FILE_SIZE_MB=25

# Temporary upload directory
UPLOAD_DIR=./uploads

# Output directory for separated stems
OUTPUT_DIR=./separated

# Directory for persistent job metadata (JSON files)
JOB_STORE_DIR=./job_state
