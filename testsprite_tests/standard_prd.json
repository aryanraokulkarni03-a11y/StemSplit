{
  "meta": {
    "project": "Singscape (StemSplit)",
    "date": "2026-02-06",
    "prepared_by": "Generated by Antigravity AI"
  },
  "product_overview": "Singscape is a web application designed to perform AI-powered audio stem separation using the Demucs model. It allows users to upload audio files, view real-time processing progress, and preview and download separated stems (vocals, drums, bass, and others) for music practice, remixing, and learning.",
  "core_goals": [
    "Enable seamless upload of audio files with validation and clear user feedback",
    "Provide real-time progress visualization during AI-based audio stem separation",
    "Offer an intuitive playback experience for individual stems with volume control and waveform visualization",
    "Allow users to download individual stems or all stems collectively",
    "Ensure robust error handling and recovery for upload, processing, and playback stages",
    "Maintain a consistent Brutalist themed UI with performance and accessibility best practices"
  ],
  "key_features": [
    "Drag-and-drop file upload component with support for MP3 and WAV formats, max size 25MB, including file metadata display and validation error handling",
    "Real-time processing dashboard showing status of each stem (Vocals, Drums, Bass, Other) with progress bar and estimated time",
    "Results page featuring grid layout of stem audio players with play/pause, volume slider, waveform visualizer, and individual download buttons",
    "Download all stems button for batch downloading separated audio files",
    "Error recovery mechanisms including Try Again functionality for failed processing",
    "Responsive design supporting desktop, tablet, and mobile screens",
    "Backend integration with Python Demucs model for audio separation using Next.js API routes",
    "Accessibility support including keyboard navigation, screen reader labels, and color contrast compliance"
  ],
  "user_flow_summary": [
    "User arrives at homepage and uploads an audio file via drag-and-drop or file browser (validated for format and size)",
    "After file upload, user initiates processing and is redirected to the processing dashboard",
    "User monitors real-time progress of stem separation with visual feedback and estimated time",
    "Upon completion, user is redirected to results page where they can play, seek, adjust volume for each stem, download stems individually, or download all stems",
    "User can process another file by returning to the upload page",
    "Error flows handle invalid uploads and processing failures with messages and retry options"
  ],
  "validation_criteria": [
    "File upload accepts only MP3 or WAV files less than 25MB with proper metadata display",
    "Processing dashboard updates stem statuses from Pending to Processing to Complete with progress bar advancement",
    "Results page presents four stem players with full playback and waveform visualization functionality",
    "Download buttons reliably initiate file downloads both individually and collectively",
    "UI design follows Brutalist theme with correct colors, fonts, shadows, and layout across responsive breakpoints",
    "Keyboard navigation and screen reader support verified with ARIA labels and announcements",
    "API endpoints handle requests correctly with proper error codes on invalid input or server faults",
    "Backend Python processing executes with streamed progress and proper cleanup of temporary files",
    "Critical user journeys for happy path, error recovery, and multi-stem management complete without issues",
    "Browser compatibility ensured for Chrome, Firefox, Safari, and Edge latest versions"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14 (App Router)",
      "Tailwind CSS (Brutalist Theme)",
      "Python (Demucs Backend)",
      "Node.js",
      "Radix UI",
      "Framer Motion"
    ],
    "features": [
      {
        "name": "FileUpload",
        "description": "Drag-and-drop file upload component with 25MB limit and validation.",
        "files": [
          "src/components/FileUpload.tsx",
          "src/app/api/upload/route.ts"
        ]
      },
      {
        "name": "StemPlayer",
        "description": "Audio player for individual stems (vocals, drums, bass, other) with volume and seek controls.",
        "files": [
          "src/components/StemPlayer.tsx"
        ]
      },
      {
        "name": "WaveformVisualizer",
        "description": "Canvas-based waveform visualization synchronized with audio playback.",
        "files": [
          "src/components/WaveformVisualizer.tsx"
        ]
      },
      {
        "name": "ProcessDashboard",
        "description": "Dashboard showing real-time processing status of audio separation.",
        "files": [
          "src/app/process/page.tsx",
          "src/app/api/separate/route.ts"
        ]
      },
      {
        "name": "ResultsPage",
        "description": "Grid layout of stemmed audio players with download capabilities.",
        "files": [
          "src/app/results/page.tsx"
        ]
      }
    ]
  }
}
